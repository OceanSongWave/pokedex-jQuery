let pokemonRepository=function(){let e=[],t="https://pokeapi.co/api/v2/pokemon/?limit=150";function o(t){"object"==typeof t?e.push(t):alert("Please enter valid Pokemon")}function n(e){a(e).then(function(){console.log(e),l(e)})}function a(e){let t=e.detailsUrl;return fetch(t).then(function(e){return e.json()}).then(function(t){e.imageUrlFront=t.sprites.other.dream_world.front_default,e.imageUrlAnimated=t.sprites.versions["generation-v"]["black-white"].animated.front_default,e.height=t.height,e.weight=t.weight,e.types=[],t.types.forEach(function(t){e.types.push(t.type.name)}),e.abilities=[],t.abilities.forEach(function(t){e.abilities.push(t.ability.name)})}).catch(function(e){console.error(e)})}let r=$("#modal-container");function l(e){let t=$(".modal-body"),o=$(".modal-title");$(".modal-header");o.empty(),t.empty();let n=$("<h1>"+e.name+"</h1>"),a=$('<img class="modal-img" style="width:50%">');a.attr("src",e.imageUrlFront);let l=$('<img class="modal-img" style="width:50%">');l.attr("src",e.imageUrlBack);let s=$("<p>height : "+e.height+"</p>"),i=$("<p>weight : "+e.weight+"</p>"),c=$("<p>types : "+e.types+"</p>"),d=$("<p>abilities : "+e.abilities+"</p>");e.types.includes("grass")?$(".modal-header").css("background-color","rgb(120, 200, 80)"):e.types.includes("fire")?$(".modal-header").css("background-color","rgb(240, 128, 48)"):e.types.includes("poison")?$(".modal-header").css("background-color","rgb(168, 144, 240)"):e.types.includes("water")?$(".modal-header").css("background-color","rgb(104, 144, 240)"):e.types.includes("bug")?$(".modal-header").css("background-color","rgb(168, 184, 32)"):e.types.includes("water")?$(".modal-header").css("background-color","rgb(69, 120, 237)"):e.types.includes("ice")?$(".modal-header").css("background-color","rgb(66, 174, 174)"):e.types.includes("electric")?$(".modal-header").css("background-color","rgb(252, 234, 161)"):e.types.includes("ground")?$(".modal-header").css("background-color","rgb(219, 181, 77)"):e.types.includes("fairy")?$(".modal-header").css("background-color","rgb(232, 120, 144)"):e.types.includes("ghost")?$(".modal-header").css("background-color","rgb(100, 78, 136)"):e.types.includes("normal")&&$(".modal-header").css("background-color","rgb(156, 156, 99)"),o.append(n),t.append(a),t.append(l),t.append(s),t.append(i),t.append(c),t.append(d),r.addClass("is-visible")}return{add:o,getAll:function(){return e},addListItem:function(e){pokemonRepository.loadDetails(e).then(function(){let t=$(".row"),o=$('<div class="card mt-5" style="width: 18rem; margin:13px;"></div>'),a=$('<img class="card-img-top mx-auto" style="width:30%;" alt="...">'),r=$('<h5 class="card-title">'+e.name+"</h5>");a.attr("src",e.imageUrlAnimated);let l=$('<div class="card-body" style="text-align: center;"></div>'),s=$('<button type="button" class="btn" style="background-color: #d88780; color: white" data-toggle="modal" data-target="#exampleModal">See profile</button>');t.append(o),o.append(a),o.append(l),l.append(r),l.append(s),s.on("click",function(t){n(e)})})},loadList:function(){return fetch(t).then(function(e){return e.json()}).then(function(e){e.results.forEach(function(e){o({name:e.name,detailsUrl:e.url})})}).catch(function(e){console.error(e)})},loadDetails:a,showDetails:n,showModal:l}}();function search(){var e,t,o,n;for(e=document.getElementById("myInput").value.toUpperCase(),t=document.getElementById("myUL").querySelectorAll(".card"),n=0;n<t.length;n++)o=t[n].querySelector(".card-body").querySelector(".card-title"),console.log(o.innerText),(o.textContent||o.innerText).toUpperCase().indexOf(e)>-1?t[n].style.display="":t[n].style.display="none"}pokemonRepository.loadList().then(function(){pokemonRepository.getAll().forEach(function(e){pokemonRepository.addListItem(e)})});